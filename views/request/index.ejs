<!DOCTYPE HTML>
<html lang="en">
    <head>
        <title>mod requests | admin</title>
        <%- include('../head-header'); %>
    </head>
    <body>
        <%- include('../body-header'); %>
        <div class="container" style="margin-top: 1%;">
            <div class="card-container row">
                <div class="col s12">
                    <section class="not-flexing-card">
                        <h2>Mod request status: <span id="status-label"></span></h2>
                        <button class="btn blue waves-effect" onclick="openQueue()">Open</button>
                        <button class="btn red waves-effect" onclick="closeQueue()">Close</button>
                    </section>
                </div>
            </div>
            <div class="card-container row">
                <div class="col s12">
                    <section class="not-flexing-card">
                        <h2>Rules</h2>
                        <ul class="collection with-header" id="rules" style="border: none;">
                            <li class="collection-item"><div><span>You can submit a beatmap once every 2 weeks</span></div></li>
                            <li class="collection-item"><div><span id="max-difficulty-rule-text">No <%- config.requests.max_difficulty %>+ star rating maps</span></div></li>
                            <li class="collection-item"><div><span>Beatmap must be pending or WIP</span></div></li>
                        </ul>
                        <div class="not-flexing-card z-depth-5">
                            <div class="input-field s12">
                                <input id="new-rule" type="text" />
                                <label for="new-rule">Add new rule</label>
                            </div>
                            <button class="btn blue waves-effect" onclick="addRule()">Add</button>
                        </div>
                        <div class="not-flexing-card z-depth-5">
                            <div class="input-field s12">
                                <input id="max-diff" type="number" step="0.01" min="0" max="50" />
                                <label for="max-diff">Maximum difficulty</label>
                            </div>
                        </div>
                        <button class="btn green waves-effect" onclick="saveRules()">Save</button>
                    </section>
                </div>
            </div>
            <div class="card-container row">
                <div class="col s12">
                    <section class="not-flexing-card">
                        <h2>Discord Webhooks</h2>
                        <ul class="collection with-header" id="discord-webhooks" style="border: none;">
                        </ul>
                        <div class="input-field s12">
                            <input id="new-discord-webhook-url" type="text" />
                            <label for="new-discord-webhook-url">Add new URL</label>
                        </div>
                        <button class="btn blue waves-effect" onclick="addDiscordWebhook()">Add</button>
                        <hr>
                        <button class="btn green waves-effect" onclick="saveDiscordWebhooks()">Save</button>
                    </section>
                </div>
            </div>
        </div>
        <script type="application/json" id="json-config"><%- JSON.stringify(config) %></script>
        <script type="application/json" id="json-discord-webhook-urls"><%- JSON.stringify(discordWebhookURLs) %></script>
        <script src="https://cdn.jsdelivr.net/npm/@materializecss/materialize@1.1.0-alpha/dist/js/materialize.min.js"></script>
        <script type="text/javascript" src="/scripts/main.js"></script>
        <script type="text/javascript" src="/scripts/admin/request/index.js"></script>
    </body>
</html>
